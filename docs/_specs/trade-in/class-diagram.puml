@startuml Trade-In Class Diagram

skinparam classAttributeIconSize 0
skinparam classFontStyle bold

package "Trade-In Domain" {

    class TradeIn {
        +id: String
        +customerId: String
        +purchaseId: String
        +status: TradeInStatus
        +creditApplied: Boolean
        +createdAt: DateTime
        +completedAt: DateTime
    }

    enum TradeInStatus {
        OFFER_PENDING
        OFFER_ACCEPTED
        APPRAISAL_SCHEDULED
        APPRAISED
        COMPLETED
        CANCELLED
    }

    class TradeInVehicle {
        +id: String
        +tradeInId: String
        +vin: String
        +make: String
        +model: String
        +year: Integer
        +trim: String
        +mileage: Integer
        +condition: Condition
        +photos: List
    }

    enum Condition {
        EXCELLENT
        GOOD
        FAIR
        POOR
    }

    class TradeInOffer {
        +amount: Decimal
        +validUntil: DateTime
        +status: OfferStatus
        +acceptedAt: DateTime
    }

    enum OfferStatus {
        PENDING
        ACCEPTED
        DECLINED
        EXPIRED
    }

    class TradeInAppraisal {
        +scheduledDate: DateTime
        +completedAt: DateTime
        +actualCondition: Condition
        +adjustedAmount: Decimal
        +adjustmentReason: String
    }

    TradeIn "1" --> "1" TradeInVehicle : for
    TradeIn "1" --> "1" TradeInOffer : has
    TradeIn "1" --> "0..1" TradeInAppraisal : may have
    TradeIn --> TradeInStatus
    TradeInVehicle --> Condition
    TradeInOffer --> OfferStatus
}

@enduml
