@startuml Warranty Class Diagram

skinparam classAttributeIconSize 0
skinparam classFontStyle bold

package "Warranty Domain" {

    class Warranty {
        +id: String
        +vehicleId: String
        +customerId: String
        +purchaseId: String
        +type: WarrantyType
        +planId: String
        +status: WarrantyStatus
        +deductible: Decimal
        +startDate: DateTime
        +endDate: DateTime
        +startMileage: Integer
        +price: Decimal
        +purchasedAt: DateTime
    }

    enum WarrantyType {
        BASIC
        EXTENDED
    }

    enum WarrantyStatus {
        ACTIVE
        EXPIRED
        VOID
    }

    class WarrantyCoverage {
        +durationDays: Integer
        +mileageLimit: Integer
        +components: List
    }

    class WarrantyPlan {
        +id: String
        +name: String
        +duration: String
        +mileage: Integer
        +price: Decimal
        +coverage: List
        +benefits: List
        +deductible: Decimal
        +isPopular: Boolean
    }

    class WarrantyClaim {
        +id: String
        +claimNumber: String
        +warrantyId: String
        +vehicleId: String
        +customerId: String
        +category: String
        +description: String
        +firstNoticed: DateTime
        +mileageAtClaim: Integer
        +photos: List
        +status: ClaimStatus
        +submittedAt: DateTime
    }

    enum ClaimStatus {
        SUBMITTED
        UNDER_REVIEW
        APPROVED
        DENIED
        SERVICE_SCHEDULED
        COMPLETED
    }

    class ClaimDecision {
        +approved: Boolean
        +reason: String
        +coverageAmount: Decimal
        +customerCost: Decimal
        +decidedAt: DateTime
        +decidedBy: String
    }

    class ClaimService {
        +scheduledDate: DateTime
        +serviceCenterId: String
        +completedAt: DateTime
        +invoiceAmount: Decimal
    }

    Warranty "1" --> "1" WarrantyCoverage : has
    Warranty "1" --> "*" WarrantyClaim : may have
    WarrantyClaim "1" --> "0..1" ClaimDecision : has
    WarrantyClaim "1" --> "0..1" ClaimService : may have
    Warranty --> WarrantyType
    Warranty --> WarrantyStatus
    WarrantyClaim --> ClaimStatus
}

@enduml
