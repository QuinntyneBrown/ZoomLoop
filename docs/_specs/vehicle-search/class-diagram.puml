@startuml Vehicle Search Class Diagram

skinparam classAttributeIconSize 0
skinparam classFontStyle bold

package "Vehicle Search Domain" {

    class Vehicle {
        +id: String
        +vin: String
        +make: String
        +model: String
        +year: Integer
        +trim: String
        +price: Decimal
        +mileage: Integer
        +bodyType: BodyType
        +transmission: String
        +fuelType: String
        +exteriorColor: String
        +interiorColor: String
        +status: VehicleStatus
        +listedAt: DateTime
    }

    enum BodyType {
        SEDAN
        SUV
        TRUCK
        COUPE
        HATCHBACK
        VAN
        CONVERTIBLE
        WAGON
    }

    enum VehicleStatus {
        AVAILABLE
        RESERVED
        SOLD
        PENDING
    }

    class VehiclePhoto {
        +id: String
        +vehicleId: String
        +url: String
        +thumbnailUrl: String
        +caption: String
        +order: Integer
    }

    class VehicleFeatures {
        +safety: List
        +comfort: List
        +technology: List
        +exterior: List
        +performance: List
    }

    class VehicleLocation {
        +city: String
        +province: String
        +postalCode: String
        +lat: Decimal
        +lng: Decimal
    }

    class Favorite {
        +id: String
        +userId: String
        +vehicleId: String
        +createdAt: DateTime
        +notifyOnPriceChange: Boolean
    }

    class SearchHistory {
        +id: String
        +userId: String
        +sessionId: String
        +query: String
        +filters: Map
        +resultCount: Integer
        +timestamp: DateTime
    }

    class SearchResult {
        +vehicles: List
        +totalCount: Integer
        +page: Integer
        +totalPages: Integer
        +facets: SearchFacets
    }

    class SearchFacets {
        +makes: List
        +models: List
        +bodyTypes: List
        +yearRange: Range
        +priceRange: Range
    }

    Vehicle "1" --> "*" VehiclePhoto : has
    Vehicle "1" --> "1" VehicleFeatures : has
    Vehicle "1" --> "1" VehicleLocation : located at
    Vehicle --> BodyType
    Vehicle --> VehicleStatus
    Favorite "*" --> "1" Vehicle : references
    SearchResult --> "*" Vehicle : contains
    SearchResult --> SearchFacets : includes
}

@enduml
