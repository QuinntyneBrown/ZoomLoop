<div class="slider-wrapper">
  @if (label) {
    <label [for]="id" class="slider-label">
      {{ label }}
      @if (required) {
        <span class="required">*</span>
      }
      @if (showValue) {
        <span class="slider-value">{{ value }}</span>
      }
    </label>
  }
  <div class="slider-container" [class.disabled]="disabled">
    <div 
      #track
      class="slider-track"
      (mousedown)="onMouseDown($event)"
      (touchstart)="onTouchStart($event)"
    >
      <div class="slider-fill" [style.width.%]="percentage"></div>
      <div 
        class="slider-thumb" 
        [style.left.%]="percentage"
        [attr.aria-valuemin]="min"
        [attr.aria-valuemax]="max"
        [attr.aria-valuenow]="value"
        role="slider"
        [attr.aria-label]="label || 'slider'"
        [attr.aria-disabled]="disabled"
        tabindex="0"
      ></div>
    </div>
    <input
      type="range"
      [id]="id"
      [min]="min"
      [max]="max"
      [step]="step"
      [value]="value"
      [disabled]="disabled"
      [required]="required"
      (input)="onInputChange($event)"
      (blur)="onBlur()"
      class="slider-native"
      [attr.aria-label]="label || 'slider'"
    />
  </div>
  <div class="slider-minmax">
    <span class="slider-min">{{ min }}</span>
    <span class="slider-max">{{ max }}</span>
  </div>
</div>
